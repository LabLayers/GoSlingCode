extends code-layout

block content
  link(rel='stylesheet', type='text/css', href='js/jquery.js')
  link(rel='icon', type='image/png', href='favicon.png')
  link(rel='stylesheet', type='text/css', href='css/codemirror.css')
  link(rel='stylesheet', type='text/css', href='theme/monokai.css')
  script(type='text/javascript', src='js/codemirror.js')
  script(type='text/javascript', src='js/require.js')
  link(rel='stylesheet', href='main.css')

  img.csj(src='img/csj.png', width='70', height='70')
  .tutor-arrow
  .tutor
  .container
    textarea#code_area(autofocus='autofocus')
  .tab
    img(width='15', height='15', src='img/favicon.png', style='border-radius: 2px;')
    span.title
  .html_area
  script.
    function refreshHTML(doc)
    {
    var html_val = doc.getValue();
    $('.html_area').html(html_val);
    var title = html_val.match('<title>(.*)</title>');
    $('.tab .title').html('&nbsp;' + title[1]);
    return;
    }
    require([
    "lib/codemirror", "mode/htmlmixed/htmlmixed"
    ], function(CodeMirror) {
    var doc = CodeMirror.fromTextArea(document.getElementById("code_area"), {
    lineNumbers: true,
    mode: "htmlmixed",
    theme: "monokai",
    autofucus: true,
    lineWrapping: true
    });
    doc.setValue('');

    setInterval( function() {refreshHTML(doc)}, 1000);
    });
  script(src='js/typed.js', type='text/javascript')
  script.
    var tutorial = ["Hello world! My name is Code Slingin' Joe! Nice to meet you!", "I am going to show you how to build your very first website! Are you ready?", "Okay great! The language that we will be writing in is called HTML.", "That stands for Hypertext Markup Laungage, but most people know it as HTML.", "The way we start webpages is with the <html> tag.", "Start your page by typing <html>", "For almost every tag, we have to close it, so add </html> on the next line to close the document.", "There are two main parts of a html document; the <head> and the <body>.", "First, lets explore the <head> tag a bit.", "Inside <head> and </head> is where we set up the document.", "For now, lets just add a page title.", "First, add the <head> tag and close it with </head> inside of the <html> tag.", "Then, inside of the <head> tag, add the title tag <title> and add its closing tag, </title>", "Inside of the <title> tag is where we will set our title.", "So inside of the title, type Hello World, and look over to the right.", "In our simulator, you should see Hello World in the tab on the right.", "Great job!"];
    var index = 0;

    function next(){
      $('.tutorial').remove();
      $('.tutor').html('<span class="tutorial"></span>');
      $(".tutorial").typed({
        strings: [tutorial[index]],
        typeSpeed: 0,
        backDelay: 500,
        loop: false,
        loopCount: false,
        callback: function(){
          $('.typed-cursor').hide();
          $('.tutor').append('<a style="float:right" href="javascript:next()">Continue</a>');
        }
      });
      index++;
    }
    next();
